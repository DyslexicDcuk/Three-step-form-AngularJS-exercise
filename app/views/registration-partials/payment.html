<section ng-form="paymentForm">
  <div class="input-group" ng-class="{'has-error': paymentForm.cardNumber.$touched && paymentForm.cardNumber.$error.required}">
    <label>Credit card number</label>
    <input type="text" name="cardNumber" 
        ng-model="formData.cardNumber" 
        ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 0, 'blur': 0 } }" 
        ng-change="saveFormState('payment', paymentForm.$valid)" 
        ui-mask="9999-9999-9999-9999"
        required>
    <div class="validation-alert" ng-show="paymentForm.$submitted || paymentForm.cardNumber.$touched">
      <div ng-show="paymentForm.cardNumber.$error.required">Required.</div>
    </div>
  </div>

  <div class="input-group" ng-class="{'has-error': paymentForm.cardExpiration.$touched && paymentForm.cardExpiration.$error.required}">
    <label>Expiration date</label>
    <input type="text" name="cardExpiration" 
        ng-model="formData.cardExpiration" 
        ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 0, 'blur': 0 } }" 
        ng-change="saveFormState('payment', paymentForm.$valid)"
        ui-mask="99/99"
        required>
    <div class="validation-alert" ng-show="paymentForm.$submitted || paymentForm.cardExpiration.$touched">
      <div ng-show="paymentForm.cardExpiration.$error.required">Required.</div>
    </div>
  </div>

  <div class="next-step">
    <button ng-click="paymentForm.$setSubmitted(); nextStep(paymentForm.$valid, 'payment')" ng-disabled="paymentForm.$invalid">Submit</button>
  </div>
</section>